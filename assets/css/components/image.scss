.image {
  position: relative;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.0);
    transition: {
      property: background-color;
      duration: 0.2s;
    }
  }

  &.image--loaded {
    .image__inner {
      opacity: 1;
    }
    .image__palette-background {
      opacity: 0;
    }
  }

  &.image--error {
    &:before {
      background-color: rgba($inverseHighlight, 0.05)
    }
  }
}

.image__palette-background {
  transition: {
    property: opacity;
    duration: 0.05s;
    delay: 0.35s
  }
}

.image__inner {
  opacity: 0;
  transform: translateZ(0);
  transition: {
    property: opacity;
    duration: 0.35s;
  }
}
